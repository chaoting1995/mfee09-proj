<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <input type="number" id="a"> +
    <input type="number" id="b">
    <button onclick="doAjax()">=</button>
    <span id="result"></span>

    <script>
        // 取得input節點
        const a = document.querySelector('#a');
        const b = document.querySelector('#b');

        function doAjax() {
            const a1 = a.value;  // 取得值，存入變數
            const b1 = b.value;  // 取得值，存入變數
            // 傳值 →用fetch，fetch的參數是(網址)
            // 預設是GET，故不用特別設
            fetch(`0821-05-plus-api.php?a=${a1}&b=${b1}`)
                // callback function
                .then(r => r.json())
                .then(obj => {
                    document.querySelector('#result').innerHTML = obj.answer;

                    // 不做錯誤處理，先假設都對
                });
        }

    </script>

</body>

</html>


<!-- function(r){
return r.json(); //拿到一個promise物件
} -->

<!-- 可以改成 -->
<!-- r => r.json()) -->